---
import Layout from '../../../layouts/layout.astro';
import { getLangFromUrl, useTranslations } from '../../../i18n/index';
import Hero from '../../../components/hero.astro';
import TechnicalInformation from '../../../components/technical-information.astro';
import Button from '../../../components/button.astro';
import SafetyStrength from '../../../components/safety-strength.astro';
import ColorOptions from '../../../components/coloroptions.astro';
import '../../../styles/pages/products/sliding-glass-doors.css';
import '../../../styles/components/technical-information.css';

// @ts-ignore
export function getStaticPaths() {
  return [
    { params: { lang: 'en' } },
    { params: { lang: 'ru' } },
    { params: { lang: 'az' } },
  ];
}

// @ts-ignore
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

// Technical Information Component Data
const technicalData = {
  title: t('slidingGlassDoors.technicalTitle'),
  description: t('slidingGlassDoors.technicalDesc'),
  diagramUrl: "/images/products/sliding-glass-doors/RAL9016.webp",
  features: [
    { 
      title: t('slidingGlassDoors.smoothSlidingTitle'), 
      desc: t('slidingGlassDoors.smoothSlidingDesc')
    },
    { 
      title: t('slidingGlassDoors.insulationTitle'), 
      desc: t('slidingGlassDoors.insulationDesc')
    },
    { 
      title: t('slidingGlassDoors.weatherResistantTitle'), 
      desc: t('slidingGlassDoors.weatherResistantDesc')
    }
  ],
  components: [
    { id: 1, name: "Buttom Rail", img: "/images/products/sliding-glass-doors/details/bottom-rail.webp", x: 16, y: 72 },
    { id: 2, name: "Sash Stile", img: "/images/products/sliding-glass-doors/details/sash-stile.webp", x: 29, y: 72 },
    { id: 3, name: "Side Jamb", img: "/images/products/sliding-glass-doors/details/side-jamb.webp", x: 19, y: 32 },
  ]
};

// Color Options Images Map
const colorImagesMap = {
  '9016': '/images/products/sliding-glass-doors/RAL9016.webp',
  '1013': '/images/products/sliding-glass-doors/RAL1013.webp',
  '8014': '/images/products/sliding-glass-doors/RAL8014.webp',
  '8019': '/images/products/sliding-glass-doors/RAL8019.webp',
  '9005': '/images/products/sliding-glass-doors/RAL9005.webp',
  '7016': '/images/products/sliding-glass-doors/RAL7016.webp'
};
---

<Layout title={t('slidingGlassDoors.heroTitle')}>
			<!-- HERO SECTION -->
		<Hero 
			title={t('slidingGlassDoors.heroTitle')}
			description={[
				t('slidingGlassDoors.heroDesc1'),
				t('slidingGlassDoors.heroDesc2')
			]}
			image="/images/products/sliding-glass-doors.webp"
			imageAlt="Sliding Glass Doors System"
			buttonText={t('slidingGlassDoors.orderNow')}
			buttonHref={`/${lang}/contact`}
			buttonVariant="premium"
		/>
	<main>
		<!-- Technical Information Component -->
		<TechnicalInformation 
			title={technicalData.title}
			description={technicalData.description}
			diagramUrl={technicalData.diagramUrl}
			features={technicalData.features}
			components={technicalData.components}
		/>

		<!-- SECTION 2: MECHANICAL DATA (DUPLICATE) -->
		<section class="pergola-section mechanical-section">
			<div class="mechanical-container">
				<div class="col col-image">
					<div class="image-frame">
						<img src="/images/products/sliding-glass-doors/details/sliding-advantages.webp" alt="Window mechanisms detail">
					</div>
				</div>

				<div class="col col-text">
					<div class="content-wrapper">
						<h1 class="main-title anim-fade-up">{t('slidingGlassDoors.advantagesTitle')}</h1>

						<div class="item-block anim-fade-up delay-100">
							<h3 class="item-title">{t('slidingGlassDoors.spaceEfficiencyTitle')}</h3>
							<p class="item-text">
								{t('slidingGlassDoors.spaceEfficiencyDesc')}
							</p>
						</div>

						<div class="item-block anim-fade-up delay-200">
							<h3 class="item-title">{t('slidingGlassDoors.easeOfAccessTitle')}</h3>
							<p class="item-text">
								{t('slidingGlassDoors.easeOfAccessDesc')}
							</p>
						</div>

						<div class="item-block anim-fade-up delay-300">
							<h3 class="item-title">{t('slidingGlassDoors.naturalLightTitle')}</h3>
							<p class="item-text">
								{t('slidingGlassDoors.naturalLightDesc')}
							</p>
						</div>

						<div class="item-block anim-fade-up delay-300">
							<h3 class="item-title">{t('slidingGlassDoors.aestheticAppealTitle')}</h3>
							<p class="item-text">
								{t('slidingGlassDoors.aestheticAppealDesc')}
							</p>
						</div>
						<Button variant="cta" text={t('slidingGlassDoors.orderNow')} href="#" onclick="event.preventDefault(); document.querySelector('footer').scrollIntoView({behavior: 'smooth', block: 'start'});" />
					</div>
				</div>
			</div>
		</section>

		<SafetyStrength />

		<!-- COLOR OPTIONS COMPONENT -->
		<ColorOptions images={colorImagesMap} />