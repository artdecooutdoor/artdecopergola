---
import Navigation from '../components/navigation.astro';
import Footer from '../components/footer.astro';
import SEO from '../components/seo.astro';
import { getLangFromUrl } from '../i18n';
import '../styles/fonts.css';
import '../styles/design-tokens.css';
import '../styles/global.css';

export interface Props {
  title: string;
  description?: string;
  image?: string;
  canonical?: string;
  type?: 'website' | 'article';
}

const { title, description, image, canonical, type } = Astro.props;
const locale = getLangFromUrl(Astro.url);
---

<!doctype html>
<html lang={locale}>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		
		<!-- SEO component handles ALL meta tags, favicon, fonts automatically -->
		<SEO 
			title={title}
			description={description}
			image={image}
			canonical={canonical}
			locale={locale}
			type={type}
		/>
	</head>
	<body>
		<Navigation />
		<main>
			<slot />
		</main>
		<Footer locale={locale} />
	</body>
</html>